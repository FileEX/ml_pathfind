version: ci-{build}
os: Visual Studio 2017

configuration:
  - Release

before_build:
  - premake5 vs2017

clone_depth: 1

build:
  parallel: true
  project: Build/PathFind.sln

artifacts:
  - path: Bin/Release/ml_pathfind.dll
    name: ml_pathfind.dll

deploy:
  description: 'Pathfind module release'
  provider: GitHub
  auth_token:
    secure: gUShV8myZZHnM6U/HmGkJmtKslpUMglLZoeMPTyMbwNBNskDk0wQ/1HRMoYakQ7A
  artifact: Bin/Release/ml_pathfind.dll
  draft: false
  prerelease: false
  on:
    appveyor_repo_tag: true
